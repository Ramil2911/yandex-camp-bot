# Monitoring Service

Сервис централизованного логирования и мониторинга микросервисов.

## Функциональность

- **Централизованное логирование**: Сбор логов от всех сервисов
- **Метрики производительности**: Отслеживание ключевых показателей
- **Анализ данных**: Статистика и отчеты

## API Endpoints

### Логи
- `POST /logs` - Создание записи лога
- `POST /logs/bulk` - Массовое создание логов
- `GET /logs` - Получение логов с фильтрацией

### Метрики
- `POST /metrics` - Создание метрики
- `GET /stats` - Системная статистика

## База данных

Использует PostgreSQL для хранения логов и метрик.

### Структура таблиц

- **logs**: Логи от всех сервисов
- **metrics**: Метрики производительности
- **service_health**: Статус здоровья сервисов

## Конфигурация

```bash
DATABASE_URL=postgresql://user:password@db:5432/monitoring
```

## Запуск

```bash
cd monitoring-service
pip install -r requirements.txt
uvicorn app.main:app --host 0.0.0.0 --port 8004
```

## Очистка данных

Сервис поддерживает автоматическую очистку старых логов:

```bash
DELETE /logs/cleanup?days=30
```
